%----------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------
\documentclass[11pt, a4paper, oneside]{Thesis} % Paper size, default font size and one-sided paper

\graphicspath{{./Pictures/}} % Specifies the directory where pictures are stored

%\usepackage{pdfpages} % for including pdf files
\usepackage{float} % force figures and tables to be placed where they are referenced by using the paramter H.
\usepackage{color}
\usepackage{listings}
\usepackage{enumerate}

\usepackage{lscape} % for landscape oriented pages
\usepackage[square, numbers, comma, sort&compress]{natbib}
% Use the natbib reference package - read up on this to edit the reference style;
%if you want text (e.g. Smith et al., 2012) for the in-text references (instead of numbers), remove 'numbers' 

\definecolor{maroon}    {rgb}{.5, 0, 0}
\definecolor{green}     {rgb}{.1,.8,.1}
\definecolor{darkgreen} {rgb}{ 0,.5, 0}
\definecolor{lightgray} {rgb}{.9,.9,.9}
\definecolor{darkgray}  {rgb}{.4,.4,.4}

\definecolor{punct}     {rgb}{0.5,0,0}
\definecolor{delim}     {rgb}{0.08,0.41,0.69}
\definecolor{numb}      {rgb}{0.8,0.2,0.2}

\lstdefinelanguage{XML}
{
  basicstyle=\scriptsize\ttfamily,
  morestring=[s]{"}{"},
  morecomment=[s]{?}{?},
  morecomment=[s]{!--}{--},
  commentstyle=\color{darkgreen},
  moredelim=[s][\color{black}]{>}{<},
  moredelim=[s][\color{red}]{\ }{=},
  stringstyle=\color{maroon},
  identifierstyle=\color{blue}
}

\lstdefinelanguage{json}
{
    basicstyle=\scriptsize\ttfamily,
    tabsize=2,
    %numbers=left,
    %numberstyle=\scriptsize,
    %stepnumber=1,
    %numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    literate=
     *{0}{{{\color{numb}0}}}{1}
      {1}{{{\color{numb}1}}}{1}
      {2}{{{\color{numb}2}}}{1}
      {3}{{{\color{numb}3}}}{1}
      {4}{{{\color{numb}4}}}{1}
      {5}{{{\color{numb}5}}}{1}
      {6}{{{\color{numb}6}}}{1}
      {7}{{{\color{numb}7}}}{1}
      {8}{{{\color{numb}8}}}{1}
      {9}{{{\color{numb}9}}}{1}
      {:}{{{\color{punct}{:}}}}{1}
      {,}{{{\color{punct}{,}}}}{1}
      {\{}{{{\color{delim}{\{}}}}{1}
      {\}}{{{\color{delim}{\}}}}}{1}
      {[}{{{\color{delim}{[}}}}{1}
      {]}{{{\color{delim}{]}}}}{1},
}

\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{green}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}

%% this would set javascript as default as well as other params
%\lstset{
% language=JavaScript,
% backgroundcolor=\color{lightgray},
% extendedchars=true,
% basicstyle=\footnotesize\ttfamily,
% showstringspaces=false,
% showspaces=false,
% numbers=left,
% numberstyle=\footnotesize,
% numbersep=9pt,
% tabsize=2,
% breaklines=true,
% showtabs=false,
% captionpos=b
%}


\hypersetup{urlcolor=blue, colorlinks=true} % Colors hyperlinks in blue - change to black if annoying
\title{\ttitle} % Defines the thesis title - don't touch this

\begin{document}

\frontmatter % Use roman page numbering style (i, ii, iii, iv...) for the pre-content pages

\setstretch{1.3} % Line spacing of 1.3

% Define the page headers using the FancyHdr package and set up for one-sided printing
\fancyhead{} % Clears all page headers and footers
\rhead{\thepage} % Sets the right side header to show the page number
\lhead{} % Clears the left side page header

\pagestyle{fancy} % Finally, use the "fancy" page style to implement the FancyHdr headers

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % New command to make the lines in the title page

% PDF meta-data
\hypersetup{pdftitle={\ttitle}}
\hypersetup{pdfsubject=\subjectname}
\hypersetup{pdfauthor=\authornames}
\hypersetup{pdfkeywords=\keywordnames}

%-----------------
%	TITLE PAGE
%---------------

\begin{titlepage}
\begin{center}

\textsc{\Large \univname}\\[1cm] % University name

\HRule \\[0.4cm] % Horizontal line
{\huge \bfseries \ttitle}\\[0.4cm] % Thesis title
\HRule \\[1.5cm] % Horizontal line
 
\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{Authors:}\\
\authornames % Author name - add \href bracket with link to add a website
\end{flushleft}
\end{minipage}
\begin{minipage}{0.4\textwidth}
\begin{flushright} \large
\emph{Supervisor:} \\
\supname % Supervisor name - add \href bracket with link to add a website
\end{flushright}
\end{minipage}\\[11cm]
\groupname\\
 
{\large November 2013}\\[1cm] % Date

\begin{tabular}{lr}
   \includegraphics[scale=0.6]{./Figures/NTNU-logo.pdf} 
   \hspace{3 cm} &
   \includegraphics[scale=0.9]{./Figures/HDIR-LOGO-HORISONTAL-ENG-CMYK.pdf} \\
\end{tabular}
\end{center}
\end{titlepage}
\clearpage % Start a new page

%---------------
%	ABSTRACT PAGE
%----------------

\addtotoc{Abstract} % Add the "Abstract" page entry to the Contents

\abstract{\addtocontents{toc}{\vspace{1em}}

This report is the final product for the course TDT4290 Customer driven project. 
Our customer, The Directorate of Health, Department of the Health Portal, gave us the task of planning, designing, describing and developing a prototype of the National Integration Platform for Citizen Centric eHealth in Norway. 
The intention of such a platform is to enable citizensâ€™ the ability to publish and fetch information they produce into the government run citizen centric health portal helsenorge.no. 
By creating this platform The Directorate of Health will digitize the Norwegian health care which is one of their main goals. 

Recent years a movement called quantified self has started emerging \cite{quantified} leveraging that citizens has smartphones and tablets readily available that are able to capture and store health data. 
This data together with health information gathered by educated professionals is what The Directorate of Health wants to collect at the eHealth portal.
However national IT projects usually have a high degree of complexity, security and scaling needs which are central to the design of the platform that makes projects like this difficult. 

Our customer specified that there are two types of stakeholders who are central for the pursuit of this project and that should be the goal of our prototype:
1. Educated health professionals
2. Developers.
The prototype should have a demonstration that is easy for the first group to grasp and also make it appealing and technical for the second group.

The motivation for working with this project is to innovate and create a new type of platform that can be used to better analyze citizens health. 
This report examines multiple similar or related solutions for publishing and fetching health data.
Our proposed solution consists of a web application programming interface (API) to transfer JSON data models representing health data such as heart rate or weight.
We produced a number of Android applications and a web portal to study the feasibility and practical use of the portal.
We also integrated our solution with Microsoft HealthVault.
Our results outline the viability of the chosen approach which will require further work to be suitable for a national scale project.
The next step for this project should be to analyse the value of the type of data that can be collected in this platform. 

\clearpage % Start a new page

%------------------
%	PreFace
%------------------

\addtotoc{Preface} 

\preface{\addtocontents{toc}{\vspace{1em}}
This report is the final product for the course TDT4290 Customer driven project at NTNU. 
The project was executed on behalf of The Directorate of Health, Department of the Health Portal.

The group consisted of three students from NTNU.
The team would like to thank Meng Zhu for his advices and supervision.
We would also like to thank the customer representative Mr. Helge T. Blindheim for his participation and great guidance.
}
\clearpage % Start a new page

%-----------------------------------------
%	LIST OF CONTENTS/FIGURES/TABLES PAGES
%------------------------------------------

\pagestyle{fancy} % The page style headers have been "empty" all this time, now use the "fancy" headers as defined before to bring them back

\addtotoc{Contents}
\addtocontents{toc}{\vspace{1em}}
\lhead{\emph{Contents}} % Set the left side page header to "Contents"
\tableofcontents % Write out the Table of Contents

\lhead{\emph{List of Figures}} % Set the left side page header to "List of Figures"
\listoffigures % Write out the List of Figures

\lhead{\emph{List of Tables}} % Set the left side page header to "List of Tables"
\listoftables % Write out the List of Tables

%----------------
%	ABBREVIATIONS
%-------------------

\clearpage % Start a new page

\setstretch{1.5} % Set the line spacing to 1.5, this makes the following tables easier to read

\lhead{\emph{Abbreviations}} % Set the left side page header to "Abbreviations"
\listofsymbols{ll} % Include a list of Abbreviations (a table of two columns)
{
\textbf{AJAX} & \textbf{A}synchronous \textbf{Ja}vaScript and \textbf{X}ML \\
\textbf{API} & \textbf{A}pplication \textbf{P}rogramming \textbf{I}nterface \\
\textbf{App} & \textbf{A}pplication \\
\textbf{BPM} & \textbf{B}eats \textbf{P}er \textbf{M}inute \\
\textbf{CSS} & \textbf{C}ascading \textbf{S}tyle \textbf{S}heets \\
\textbf{DOM} & \textbf{D}ocument \textbf{O}bject \textbf{M}odel \\
\textbf{HTML} & \textbf{H}yper\textbf{T}ext \textbf{M}arkup \textbf{L}anguage \\
\textbf{HV} &  Microsoft's \textbf{H}ealth\textbf{V}ault. \\
\textbf{IDI} & \textbf{I}nstitutt for \textbf{D}atateknikk og \textbf{I}nformasjonsvitenskap  \\
\textbf{IP} & \textbf{I}ntegration \textbf{P}latform \\
\textbf{JSP} & \textbf{J}ava\textbf{S}erver \textbf{P}ages \\
\textbf{MVC} & \textbf{M}odel-\textbf{v}iew-\textbf{c}ontroller \\
% Should we include the english name? Department of Computer and Information Science \\
\textbf{NIP} & \textbf{N}ational \textbf{I}ntegration \textbf{P}latform \\
\textbf{NIPEN} & \textbf{N}ational \textbf{I}ntegration \textbf{P}latform for \textbf{e}Health in \textbf{N}orway \\
\textbf{NTNU} & \textbf{N}orges \textbf{T}eknisk-\textbf{N}aturvitenskalige \textbf{U}niversitet \\
% Should we include the english name? \\Norwegian University of Science and Technology\\
\textbf{POM} & \textbf{P}roject \textbf{O}bject \textbf{M}odel \\
\textbf{REST} & \textbf{R}epresentational \textbf{S}tate \textbf{T}ransfer \\
\textbf{SDK} & \textbf{S}oftware \textbf{D}evelopment \textbf{K}it \\
\textbf{SSL} & \textbf{S}ecure \textbf{S}ockets \textbf{L}ayer \\
\textbf{TLS} & \textbf{T}ransport \textbf{L}ayer \textbf{S}ecurity \\
\textbf{URL} & \textbf{U}niform \textbf{R}esource \textbf{L}ocator \\
}

%-----------------------------
%	THESIS CONTENT - CHAPTERS
%------------------------------

\mainmatter % Begin numeric (1,2,3...) page numbering

\pagestyle{fancy} % Return the page headers back to the "fancy" style

% Include the chapters of the thesis as separate files from the Chapters folder
% Uncomment the lines as you write the chapters

\input{./Chapters/Introduction}
\input{./Chapters/ProjectManagement}
\input{./Chapters/PreliminaryStudy} 
\input{./Chapters/Requirements} 
\input{./Chapters/Architecture} 
\input{./Chapters/Security} 
\input{./Chapters/Sprint0} 
\input{./Chapters/Sprint1} 
\input{./Chapters/Sprint2} 
\input{./Chapters/Sprint3} 
\input{./Chapters/Sprint4} 
\input{./Chapters/Sprint5} 
\input{./Chapters/Testing} 
\input{./Chapters/Conclusion} 
\input{./Chapters/Evaluation} 


%------------------------------
%	THESIS CONTENT - APPENDICES
%------------------------------
\addtocontents{toc}{\vspace{2em}}
\appendix

\input{./Appendices/Assignment} % A Assignment 
\input{./Appendices/Build} % B How to build
\input{./Appendices/Templates} % C Templates
\input{./Appendices/Advisor} % D Advisor 
\input{./Appendices/Customer} % E Customer
\input{./Appendices/Internal} % F Internal
\input{./Appendices/TestResults} % Test results

\addtocontents{toc}{\vspace{2em}}
\backmatter

%-----------------
%	BIBLIOGRAPHY
%-----------------
\label{Bibliography}
\lhead{\emph{Bibliography}} % Change the page header to say "Bibliography"
\bibliographystyle{unsrtnat} % Use the "unsrtnat" BibTeX style for formatting the Bibliography
\bibliography{Bibliography} % The references (bibliography) information are stored in the file named "Bibliography.bib"
\end{document}  